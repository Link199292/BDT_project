<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1866px" height="762px" viewBox="-0.5 -0.5 1866 762" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-07-01T00:32:17.956Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36&quot; etag=&quot;oLlnaz--0VW9i-uD2c2l&quot; version=&quot;20.0.4&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;fqY4VQvyphi3iHJBsaBf&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="1735" y="270" width="130" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 310px; margin-left: 1736px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>API</b><br />(https://aqicn.org/api/)</div></div></div></foreignObject><text x="1800" y="314" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">API...</text></switch></g><path d="M 635 340 L 635 373.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 635 378.88 L 632.67 371.88 L 635 373.63 L 637.33 371.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 935 310 L 1058.63 310" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1063.88 310 L 1056.88 312.33 L 1058.63 310 L 1056.88 307.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 545.2 280 L 724.8 280 C 735.95 280 745 293.43 745 310 C 745 326.57 735.95 340 724.8 340 L 545.2 340 C 534.05 340 525 326.57 525 310 C 525 293.43 534.05 280 545.2 280 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 724.8 280 C 713.64 280 704.59 293.43 704.59 310 C 704.59 326.57 713.64 340 724.8 340" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 310px; margin-left: 526px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Redis queue:<br />'unsent_requests'</div></div></div></foreignObject><text x="635" y="314" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Redis queue:...</text></switch></g><rect x="270" y="380" width="730" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 728px; height: 1px; padding-top: 395px; margin-left: 271px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9.8pt;"><span style="color:#6a8759;">https://api.waqi.info/feed/geo:</span><span style="color:#cc7832;">{</span>city[<span style="color:#6a8759;">'latitude'</span>]<span style="color:#cc7832;">}</span><span style="color:#6a8759;">;</span><span style="color:#cc7832;">{</span>city[<span style="color:#6a8759;">'longitude'</span>]<span style="color:#cc7832;">}</span><span style="color:#6a8759;">/?token=</span><span style="color:#cc7832;">{</span>token<span style="color:#cc7832;">}</span></pre></div></div></div></foreignObject><text x="635" y="399" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">https://api.waqi.info/feed/geo:{city['latitude']};{city['longitude']}/?token={token}</text></switch></g><path d="M 1185 310 L 1280 310 L 1280 180 L 1368.63 180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1373.88 180 L 1366.88 182.33 L 1368.63 180 L 1366.88 177.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1185 310 L 1280 310 L 1280 440 L 1368.63 440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1373.88 440 L 1366.88 442.33 L 1368.63 440 L 1366.88 437.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1065" y="280" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 310px; margin-left: 1066px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Redis publisher</div></div></div></foreignObject><text x="1125" y="314" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Redis publisher</text></switch></g><rect x="795" y="180" width="220" height="45" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 203px; margin-left: 796px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9.8pt;">{<span style="color:#6a8759;">'city'</span>: city_name<span style="color:#cc7832;">,<br /></span><span style="color:#cc7832;"> </span><span style="color:#6a8759;">'country'</span>: country_name<span style="color:#cc7832;">,<br /></span><span style="color:#cc7832;"> </span><span style="color:#6a8759;">'link'</span>: link}</pre></div></div></div></foreignObject><text x="905" y="206" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">{'city': city_name,...</text></switch></g><path d="M 373 310 L 518.63 310" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 523.88 310 L 516.88 312.33 L 518.63 310 L 516.88 307.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="230" width="160" height="160" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 152px; height: 1px; padding-top: 220px; margin-left: 5px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 170px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>JSON file</h1><p>{'city': city_name,</p><p> 'country': country_name,</p><p> 'latitude': city_latitude,</p><p> 'longitude': city_longitude}</p></div></div></div></foreignObject><text x="5" y="232" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">JSON file...</text></switch></g><path d="M 1495 180 L 1517.63 180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1522.88 180 L 1515.88 182.33 L 1517.63 180 L 1515.88 177.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1375" y="150" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 180px; margin-left: 1376px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Subscriber_1</div></div></div></foreignObject><text x="1435" y="184" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Subscriber_1</text></switch></g><path d="M 1495 310 L 1517.63 310" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1522.88 310 L 1515.88 312.33 L 1517.63 310 L 1515.88 307.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1375" y="280" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 310px; margin-left: 1376px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Subscriber_2</div></div></div></foreignObject><text x="1435" y="314" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Subscriber_2</text></switch></g><path d="M 1495 440 L 1521.63 440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1526.88 440 L 1519.88 442.33 L 1521.63 440 L 1519.88 437.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1375" y="410" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 440px; margin-left: 1376px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Subscriber_n</div></div></div></foreignObject><text x="1435" y="444" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Subscriber_n</text></switch></g><path d="M 745 310 L 875 310" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 905 297.5 L 905 231.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 905 226.12 L 907.33 233.12 L 905 231.37 L 902.67 233.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="875" y="297.5" width="60" height="25" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 310px; margin-left: 876px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9.8pt;">dequeue()</pre></div></div></div></foreignObject><text x="905" y="314" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">dequeue()</text></switch></g><path d="M 1185 310 L 1368.63 310" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1373.88 310 L 1366.88 312.33 L 1368.63 310 L 1366.88 307.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 310px; margin-left: 1235px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9.8pt;">publish()</pre></div></div></div></foreignObject><text x="1235" y="313" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">publish()</text></switch></g><rect x="1390" y="100" width="90" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 88px; height: 1px; padding-top: 107px; margin-left: 1392px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9.8pt;">listeners()</pre></div></div></div></foreignObject><text x="1392" y="119" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">listeners()</text></switch></g><path d="M 1125.2 580 L 1304.8 580 C 1315.95 580 1325 593.43 1325 610 C 1325 626.57 1315.95 640 1304.8 640 L 1125.2 640 C 1114.05 640 1105 626.57 1105 610 C 1105 593.43 1114.05 580 1125.2 580 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 1304.8 580 C 1293.64 580 1284.59 593.43 1284.59 610 C 1284.59 626.57 1293.64 640 1304.8 640" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 610px; margin-left: 1106px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Redis queue:<br />'for_mongo'</div></div></div></foreignObject><text x="1215" y="614" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Redis queue:...</text></switch></g><rect x="1352.5" y="0" width="165" height="80" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 40px; margin-left: 1354px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Each country name has its own subscriber</div></div></div></foreignObject><text x="1435" y="44" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Each country name has its o...</text></switch></g><path d="M 1650.37 440 L 1735 440 L 1735 356.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1645.12 440 L 1652.12 437.67 L 1650.37 440 L 1652.12 442.33 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1735 351.12 L 1737.33 358.12 L 1735 356.37 L 1732.67 358.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1586 460 L 1586 553.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1586 558.88 L 1583.67 551.88 L 1586 553.63 L 1588.33 551.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1528" y="420" width="116" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 114px; height: 1px; padding-top: 440px; margin-left: 1529px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: &quot;JetBrains Mono&quot;, monospace; font-size: 9.8pt;">send_requests()</pre></div></div></div></foreignObject><text x="1586" y="444" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">send_requests()</text></switch></g><path d="M 1654.37 310 L 1728.63 310" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1649.12 310 L 1656.12 307.67 L 1654.37 310 L 1656.12 312.33 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1733.88 310 L 1726.88 312.33 L 1728.63 310 L 1726.88 307.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1524" y="290" width="124" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 122px; height: 1px; padding-top: 310px; margin-left: 1525px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: &quot;JetBrains Mono&quot;, monospace; font-size: 9.8pt;">send_requests()</pre></div></div></div></foreignObject><text x="1586" y="314" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">send_requests()</text></switch></g><path d="M 1654.37 180 L 1735 180 L 1735 263.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1649.12 180 L 1656.12 177.67 L 1654.37 180 L 1656.12 182.33 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1735 268.88 L 1732.67 261.88 L 1735 263.63 L 1737.33 261.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1524" y="160" width="124" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 122px; height: 1px; padding-top: 180px; margin-left: 1525px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color: rgb(43, 43, 43); color: rgb(169, 183, 198); font-family: &quot;JetBrains Mono&quot;, monospace; font-size: 9.8pt;">send_requests()</pre></div></div></div></foreignObject><text x="1586" y="184" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">send_requests()</text></switch></g><path d="M 1391 610 L 1331.37 610" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1326.12 610 L 1333.12 607.67 L 1331.37 610 L 1333.12 612.33 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1391" y="560" width="390" height="100" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 388px; height: 1px; padding-top: 567px; margin-left: 1393px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9.8pt;">{<span style="color:#6a8759;">'city'</span>: city_name<span style="color:#cc7832;">,<br /></span><span style="color:#6a8759;">'country'</span>: city_country<span style="color:#cc7832;">,<br /></span><span style="color:#6a8759;">'aqi'</span>: city_current_aqi<span style="color:#cc7832;">,<br /></span><span style="color:#cc7832;"> </span><span style="color:#6a8759;">'last_update'</span>: last_update_according_to_API}</pre></div></div></div></foreignObject><text x="1393" y="579" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">{'city': city_name,...</text></switch></g><path d="M 1105 610 L 1055 610" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 995 610 L 969.5 610 L 950.37 610.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 945.12 610.48 L 952.07 608.01 L 950.37 610.38 L 952.16 612.67 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="995" y="595" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 610px; margin-left: 996px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9.8pt;">MongoDB()</pre></div></div></div></foreignObject><text x="1025" y="614" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">MongoDB()</text></switch></g><path d="M 274 610.5 L 209.5 610.5 L 151.37 610.05" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 146.12 610.01 L 153.14 607.73 L 151.37 610.05 L 153.1 612.4 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="274" y="460" width="190" height="301" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 1px; padding-top: 450px; margin-left: 279px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 311px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1><span style="background-color: initial;">Web page:</span></h1><h1><span style="font-size: 12px; font-weight: 400;">The top 50 cities are picked and portrayed in a simple table, along with city names and respective countries.</span></h1></div></div></div></foreignObject><text x="279" y="462" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Web page:...</text></switch></g><path d="M 754 610.5 L 470.37 610.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 465.12 610.5 L 472.12 608.17 L 470.37 610.5 L 472.12 612.83 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="754" y="460" width="190" height="301" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 1px; padding-top: 450px; margin-left: 759px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 311px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1><span style="background-color: initial;">MongoDB:</span></h1><h1><span style="font-size: 12px; font-weight: 400;">Each collection inside the database takes the name of its respective country. Inside each collection the document follows the structure of the dictionary before entering the 'for_mongo' queue.</span></h1></div></div></div></foreignObject><text x="759" y="462" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">MongoDB:...</text></switch></g><rect x="15" y="575" width="130" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 610px; margin-left: 16px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">The updating process is restarted every 24 hours</div></div></div></foreignObject><text x="80" y="614" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">The updating process...</text></switch></g><rect x="554" y="575.5" width="110" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 108px; height: 1px; padding-top: 583px; margin-left: 556px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9.8pt;">Flask()<br />turbo_flask()</pre></div></div></div></foreignObject><text x="556" y="595" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Flask()...</text></switch></g><rect x="313" y="295" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 310px; margin-left: 314px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9.8pt;">queuer()</pre></div></div></div></foreignObject><text x="343" y="314" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">queuer()</text></switch></g><path d="M 160 310 L 313 310" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>